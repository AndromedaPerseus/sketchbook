@import "normalize.css";

*,
*:after,
*:before {
	box-sizing: border-box;
}

body {
	display: grid;
	place-items: center;
	min-height: 100vh;
	font-family:  "SF Pro Text", "SF Pro Icons", "AOS Icons", "Helvetica Neue", Helvetica, Arial, sans-serif, system-ui;
}


.calculator {
	display: grid;
	gap: 0.5rem;
}

.calculator__move {
	display: flex;
	gap: 0.5rem;
}

body {
}

.calculator {
	font-family: monospace;
	counter-reset: digit-one 0 digit-two 0 output 0;
}


.calculator__move:has(:checked) {
	--first: calc(var(--index, 0) * var(--multiplier, 1));
	--second: calc(var(--index-two, 0) * var(--multiplier, 1));
	--output: calc(var(--first) + var(--second));
	counter-increment: digit-one var(--first) digit-two var(--second) output var(--output);
}

/*.calculator__move:has(:checked):has(~ .calculator__operands) {
	--first: calc(var(--index, 0) * var(--multiplier, 1));
	counter-increment: digit-one var(--first);
}*/

/*.calculator__operands ~ .calculator__move:has(:checked) {

}*/

/*.calculator__operands ~ .calculator__move:has(:checked) {
	--second: calc(var(--index-two, 0) * var(--multiplier, 1));
	--output: calc(var(--first) * var(--second));
	counter-increment: digit-two var(--second);
}*/

/*:root:has(#o-plus:checked) .calculator__move:has(:checked) {
	--first: calc(var(--index, 0) * var(--multiplier, 1));
	--second: calc(var(--index-two, 0) * var(--multiplier, 1));
	--output: calc(var(--first) + var(--second));
	counter-increment: digit-one var(--first) digit-two var(--second) output var(--output);
}
:root:has(#o-minus:checked) .calculator__move:has(:checked) {
	--first: calc(var(--index, 0) * var(--multiplier, 1));
	--second: calc(var(--index-two, 0) * var(--multiplier, 1));
	--output: calc(var(--first) - var(--second));
	counter-increment: digit-one var(--first) digit-two var(--second) output var(--output);
}
:root:has(#o-divide:checked) .calculator__move:has(:checked) {
	--first: calc(var(--index, 0) * var(--multiplier, 1));
	--second: calc(var(--index-two, 0) * var(--multiplier, 1));
	--output: calc(var(--first) / var(--second));
	counter-increment: digit-one var(--first) digit-two var(--second) output var(--output);
}
:root:has(#o-multiply:checked) .calculator__move:has(:checked) {
	--first: calc(var(--index, 0) * var(--multiplier, 1));
	--second: calc(var(--index-two, 0) * var(--multiplier, 1));
	--output: calc((var(--first) * 1) * (var(--second) * 1));
	counter-increment: digit-one var(--first) digit-two var(--second) output var(--output);
}*/

.calculator__move:has(:checked),
.calculator__move:not(:has(:checked)) ~ .calculator__move:not(.calculator__operands ~ .calculator__move) {
	pointer-events: none;
	opacity: 0.2;
}


.calculator__move { --multiplier: 1; }
.calculator__move:has(+ .calculator__move > :checked) { --multiplier: 10; }
.calculator__move:has(+ .calculator__move + .calculator__move > :checked) { --multiplier: 100; }
.calculator__move:has(+ .calculator__move + .calculator__move + .calculator__move > :checked) { --multiplier: 1000; }
.calculator__move:has(+ .calculator__move + .calculator__move + .calculator__move + .calculator__move > :checked) { --multiplier: 10000; }

.calculator__move:has(~ .calculator__operands):has(:nth-of-type(1):checked) { --index: 0; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(2):checked) { --index: 1; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(3):checked) { --index: 2; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(4):checked) { --index: 3; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(5):checked) { --index: 4; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(6):checked) { --index: 5; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(7):checked) { --index: 6; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(8):checked) { --index: 7; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(9):checked) { --index: 8; }
.calculator__move:has(~ .calculator__operands):has(:nth-of-type(10):checked) { --index: 9; }

.calculator__operands ~ .calculator__move:has(:nth-of-type(1):checked) { --index-two: 1; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(2):checked) { --index-two: 1; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(3):checked) { --index-two: 2; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(4):checked) { --index-two: 3; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(5):checked) { --index-two: 4; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(6):checked) { --index-two: 5; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(7):checked) { --index-two: 6; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(8):checked) { --index-two: 7; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(9):checked) { --index-two: 8; }
.calculator__operands ~ .calculator__move:has(:nth-of-type(10):checked) { --index-two: 9; }

.first::after {
	content: counter(digit-one);
}
.second::after {
	content: counter(digit-two);
}
.output::after {
	content: counter(output);
}